---
title: "Обновление с 2.0.5"
translation: "getting-started/maintenance/upgrading/2.0.5"
---

## Обновление с Revolution 2.0.5

В 2.0.5 произошли некоторые изменения, которые применимы только к определенным случаям.

Этот процесс обновления применим к вам, только если вы:

-   Используете настройку формы
-   Имеете настраиваемую политику доступа
-   Используйте настройку `extension_packages`

Если вы не использовали на своем сайте ничего из вышеперечисленного, вам не нужно читать дальше. Если ваш сайт был создан кем-то другим, было бы разумно посоветоваться с ним перед обновлением, чтобы убедиться, что ваш сайт этого не делает.

Эти обновления должны пройти гладко: однако, если они этого не случилось, пожалуйста [разместите сообщение на форумах](https://community.modx.com/) относительно вашей проблемы.

Перед обновлением всегда рекомендуется делать резервную копию базы данных.

## Обновления настройки формы

Настройка формы была полностью переписана. Теперь **работает только для страниц ресурсов**. Если у вас есть правила FC, которые не нацелены на страницу ресурсов, **они будут удалены**.
Почему мы это сделали? Ну, например, 95% правил FC были нацелены на страницы ресурсов. Пользовательский интерфейс для управления правилами FC до версии 2.0.5 был достаточно мощным, но запутанным и сложным. Мы решили упростить интерфейс: однако для этого требовалось ограничить область действия FC только страницами ресурсов. Кроме того, **неактивные правила будут удалены**, потому что в 2.0.5 нет такого понятия, как «Неактивное правило». Есть только неактивные наборы и профили.

FC "Set" теперь представляет собой набор правил, которые применяются к одной странице (создание или обновление ресурса). Ограничения теперь зависят от набора, а не от правила. Кроме того, наборы могут быть нацелены на указанные шаблоны. Определенные наборы могут быть активными или неактивными.

FC «Профиль» - это набор Наборов. Они могут быть ограничены определенными группами пользователей и объявлены активными или неактивными.

Также появилось 4 новых таблицы и класса:

-   `[prefix]_fc_profiles` - modFormCustomizationProfile
-   `[prefix]_fc_profiles_usergroups` - modFormCustomizationProfileUserGroup
-   `[prefix]_fc_sets` - modFormCustomizationSet
-   `[prefix]_actions_fields` - modActionField

Ваши старые правила будут разделены в зависимости от их ограничений. Если у них были какие-либо ограничения группы пользователей, они будут разделены на отдельные профили. В рамках этого они будут разделены на наборы в зависимости от их целевой страницы (создания или обновления) и любых ограничений, которые у них были, поскольку ограничения теперь основаны на наборах. Затем вы можете использовать интерфейс «укажи и щелкни» для редактирования правил в наборе.

## Обновления политики доступа

Политики доступа были усовершенствованы и теперь имеют то, что теперь называется «Шаблоны политик доступа». Это то, чем раньше были политики доступа с точки зрения пользовательского интерфейса: у них есть список разрешений, которые вы можете добавить или удалить. Однако теперь, когда вы редактируете саму политику доступа, вам предоставляется список флажков разрешений, извлеченных из этого шаблона политики. Это позволяет значительно упростить редактирование и определение политик доступа.

Вы можете легко создавать политики менеджера, например, создав новую политику доступа на основе шаблона политики доступа администратора.

Ваши старые политики будут преобразованы в шаблон администратора, если они использовали только политики администратора. Если у вас были настраиваемые политики доступа, которые использовали настраиваемые разрешения, для них будет создан настраиваемый шаблон политики доступа.

## extension_packages Изменения

Параметр `extension_packages` изменен на формат JSON. Раньше формат был:

```php
package_name:package_path,another_package:another_path
```

And is now:

```json
[
    { "package_name": { "path": "package_path" } },
    { "another_package": { "path": "another_path" } }
]
```

Он должен обновиться автоматически, и вам не придется его настраивать.

## Смотрите также

1. [Устранение неполадок при обновлении](getting-started/maintenance/upgrading/troubleshooting)
2. [Обновление до 2.2.x](getting-started/maintenance/upgrading/2.2)
3. [Обновление с 2.0.x до 2.1.x](getting-started/maintenance/upgrading/2.1)
4. [Обновление с версий ранее 2.0.5](getting-started/maintenance/upgrading/2.0.5)
5. [Обновление до Revolution 2.0.0-rc-2](getting-started/maintenance/upgrading/2.0.0-rc2)
6. [Обновление с MODX Evolution](getting-started/maintenance/upgrading/evolution)
    1. [Функциональные изменения от Evolution](getting-started/maintenance/upgrading/evolution/functional-changes)
